id: assess_subject_bold_dropout
name: Check nifti masker mask overlap to assess subject dropout
stage: preprocessing
description: >
  The overlap of the individual masker masks with a generous
  aggregate mask (voxels with data for at least 30% of the subjects) is
  used to identify subjects with poor coverage that may be considered for 
  removal. A final list of subjects to use in first-level analyses is created.
code_dir: "analyses/assess_subject_bold_dropout"
dependencies: []
script_entry:
  - "visualize_masker_on_mean_bold.py"
  - "submit_visualize_masker_on_mean_bold.py"
notebook_entry:
  - "generate_good_subject_list.ipynb"
other_files:
  - "analyses/assess_subject_bold_dropout/preanalysis_good_subject_list.txt"
  - "group mask for randomise: .../survey_medley_results/assess_subject_bold_dropout/group_mask_intersection_30pct.nii.gz"
output_dir: "/oak/stanford/groups/russpold/data/uh2/aim1/derivatives/survey_medley_results/assess_subject_bold_dropout/nifti_masker_masks"
hypothesis: "Some subjects with poor data may have been missed during MRIQC evaluation."
conclusion: "Two subjects were identified for removal due to poor coverage caused by bad data quality (see notebook for details)."
notes: >
  For time series analyses used subjects listed in preanalysis_good_subject_list.txt (in associated analysis directory).  
  A mask for group (randomise) analyses is created in this code base (see other files section for mask location.)
status: "completed"
last_updated: "2025-11-23"
authors: ["Jeanette Mumford"]
